{
 "Description": "NFCタグ付きキーホルダー向け動画配信システム - APIスタック (dev)",
 "Resources": {
  "GenerateUploadUrlFnServiceRole000E32B2": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/GenerateUploadUrlFn/ServiceRole/Resource"
   }
  },
  "GenerateUploadUrlFnServiceRoleDefaultPolicy939E2788": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "s3:Abort*",
        "s3:PutObject",
        "s3:PutObjectLegalHold",
        "s3:PutObjectRetention",
        "s3:PutObjectTagging",
        "s3:PutObjectVersionTagging"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::Join": [
         "",
         [
          {
           "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputFnGetAttVideoBucket6ED8E1AFArn892B0DD6"
          },
          "/*"
         ]
        ]
       }
      },
      {
       "Action": [
        "dynamodb:DeleteItem",
        "dynamodb:GetItem",
        "dynamodb:PutItem",
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:UpdateItem"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           }
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "GenerateUploadUrlFnServiceRoleDefaultPolicy939E2788",
    "Roles": [
     {
      "Ref": "GenerateUploadUrlFnServiceRole000E32B2"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/GenerateUploadUrlFn/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "GenerateUploadUrlFn968862B7": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-271633506783-ap-northeast-1",
     "S3Key": "31da3df83cc3f3a730a88b1ee4fc7e9d282247033993ce5b7dfd676fa810308d.zip"
    },
    "Description": "Generate pre-signed URL for video upload",
    "Environment": {
     "Variables": {
      "S3_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefVideoBucket6ED8E1AF864760DE"
      },
      "ASSETS_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefAssetBucket1D0250868713D7D0"
      },
      "DYNAMODB_TABLE_VIDEO": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
      },
      "DYNAMODB_TABLE_BILLING": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
      },
      "DYNAMODB_TABLE_ORGANIZATION": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
      },
      "DYNAMODB_TABLE_SHOP": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
      },
      "DYNAMODB_TABLE_APPROVAL_REQUEST": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
      },
      "CLOUDFRONT_DOMAIN": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputFnGetAttDistribution830FAC52DomainNameBEB09E30"
      },
      "COGNITO_USER_POOL_ID": {
       "Fn::ImportValue": "video-nfc-auth-dev:ExportsOutputRefUserPool6BA7E5F296FD7236"
      },
      "SNS_TOPIC_ARN": {
       "Fn::ImportValue": "video-nfc-monitoring-dev:ExportsOutputRefAlertTopic2720D5359ADB6D3E"
      },
      "FRONTEND_URL": "http://localhost:3001",
      "ENVIRONMENT": "dev"
     }
    },
    "Handler": "index.handler",
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "GenerateUploadUrlFnServiceRole000E32B2",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ],
    "Timeout": 29
   },
   "DependsOn": [
    "GenerateUploadUrlFnServiceRoleDefaultPolicy939E2788",
    "GenerateUploadUrlFnServiceRole000E32B2"
   ],
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/GenerateUploadUrlFn/Resource",
    "aws:asset:path": "asset.31da3df83cc3f3a730a88b1ee4fc7e9d282247033993ce5b7dfd676fa810308d",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "ListVideosFnServiceRole78712B62": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/ListVideosFn/ServiceRole/Resource"
   }
  },
  "ListVideosFnServiceRoleDefaultPolicy2289C6ED": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:DeleteItem",
        "dynamodb:GetItem",
        "dynamodb:PutItem",
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:UpdateItem"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           }
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "ListVideosFnServiceRoleDefaultPolicy2289C6ED",
    "Roles": [
     {
      "Ref": "ListVideosFnServiceRole78712B62"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/ListVideosFn/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "ListVideosFn7CEC1435": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-271633506783-ap-northeast-1",
     "S3Key": "cf254385cc2e4e81865b47d6c4492a7d7ca1d9ded62e65d298e9d97f1d3d8245.zip"
    },
    "Description": "List videos with pagination and search",
    "Environment": {
     "Variables": {
      "S3_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefVideoBucket6ED8E1AF864760DE"
      },
      "ASSETS_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefAssetBucket1D0250868713D7D0"
      },
      "DYNAMODB_TABLE_VIDEO": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
      },
      "DYNAMODB_TABLE_BILLING": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
      },
      "DYNAMODB_TABLE_ORGANIZATION": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
      },
      "DYNAMODB_TABLE_SHOP": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
      },
      "DYNAMODB_TABLE_APPROVAL_REQUEST": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
      },
      "CLOUDFRONT_DOMAIN": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputFnGetAttDistribution830FAC52DomainNameBEB09E30"
      },
      "COGNITO_USER_POOL_ID": {
       "Fn::ImportValue": "video-nfc-auth-dev:ExportsOutputRefUserPool6BA7E5F296FD7236"
      },
      "SNS_TOPIC_ARN": {
       "Fn::ImportValue": "video-nfc-monitoring-dev:ExportsOutputRefAlertTopic2720D5359ADB6D3E"
      },
      "FRONTEND_URL": "http://localhost:3001",
      "ENVIRONMENT": "dev"
     }
    },
    "Handler": "index.handler",
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "ListVideosFnServiceRole78712B62",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ],
    "Timeout": 29
   },
   "DependsOn": [
    "ListVideosFnServiceRoleDefaultPolicy2289C6ED",
    "ListVideosFnServiceRole78712B62"
   ],
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/ListVideosFn/Resource",
    "aws:asset:path": "asset.cf254385cc2e4e81865b47d6c4492a7d7ca1d9ded62e65d298e9d97f1d3d8245",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "GetVideoDetailFnServiceRole230300F7": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/GetVideoDetailFn/ServiceRole/Resource"
   }
  },
  "GetVideoDetailFnServiceRoleDefaultPolicy38F3D09E": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "s3:GetBucket*",
        "s3:GetObject*",
        "s3:List*"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputFnGetAttVideoBucket6ED8E1AFArn892B0DD6"
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputFnGetAttVideoBucket6ED8E1AFArn892B0DD6"
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "dynamodb:DeleteItem",
        "dynamodb:GetItem",
        "dynamodb:PutItem",
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:UpdateItem"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           }
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "GetVideoDetailFnServiceRoleDefaultPolicy38F3D09E",
    "Roles": [
     {
      "Ref": "GetVideoDetailFnServiceRole230300F7"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/GetVideoDetailFn/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "GetVideoDetailFn98896F83": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-271633506783-ap-northeast-1",
     "S3Key": "bbb24986baf98354cba468b093c6813ed07e38f25c16bc7d45b690d644eb59f4.zip"
    },
    "Description": "Get video detail (authenticated)",
    "Environment": {
     "Variables": {
      "S3_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefVideoBucket6ED8E1AF864760DE"
      },
      "ASSETS_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefAssetBucket1D0250868713D7D0"
      },
      "DYNAMODB_TABLE_VIDEO": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
      },
      "DYNAMODB_TABLE_BILLING": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
      },
      "DYNAMODB_TABLE_ORGANIZATION": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
      },
      "DYNAMODB_TABLE_SHOP": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
      },
      "DYNAMODB_TABLE_APPROVAL_REQUEST": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
      },
      "CLOUDFRONT_DOMAIN": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputFnGetAttDistribution830FAC52DomainNameBEB09E30"
      },
      "COGNITO_USER_POOL_ID": {
       "Fn::ImportValue": "video-nfc-auth-dev:ExportsOutputRefUserPool6BA7E5F296FD7236"
      },
      "SNS_TOPIC_ARN": {
       "Fn::ImportValue": "video-nfc-monitoring-dev:ExportsOutputRefAlertTopic2720D5359ADB6D3E"
      },
      "FRONTEND_URL": "http://localhost:3001",
      "ENVIRONMENT": "dev"
     }
    },
    "Handler": "index.handler",
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "GetVideoDetailFnServiceRole230300F7",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ],
    "Timeout": 29
   },
   "DependsOn": [
    "GetVideoDetailFnServiceRoleDefaultPolicy38F3D09E",
    "GetVideoDetailFnServiceRole230300F7"
   ],
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/GetVideoDetailFn/Resource",
    "aws:asset:path": "asset.bbb24986baf98354cba468b093c6813ed07e38f25c16bc7d45b690d644eb59f4",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "DeleteVideoFnServiceRoleD6ED579B": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/DeleteVideoFn/ServiceRole/Resource"
   }
  },
  "DeleteVideoFnServiceRoleDefaultPolicyA48EA12E": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "s3:Abort*",
        "s3:DeleteObject*",
        "s3:GetBucket*",
        "s3:GetObject*",
        "s3:List*",
        "s3:PutObject",
        "s3:PutObjectLegalHold",
        "s3:PutObjectRetention",
        "s3:PutObjectTagging",
        "s3:PutObjectVersionTagging"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputFnGetAttAssetBucket1D025086Arn5988FF07"
        },
        {
         "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputFnGetAttVideoBucket6ED8E1AFArn892B0DD6"
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputFnGetAttAssetBucket1D025086Arn5988FF07"
           },
           "/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputFnGetAttVideoBucket6ED8E1AFArn892B0DD6"
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "dynamodb:DeleteItem",
        "dynamodb:GetItem",
        "dynamodb:PutItem",
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:UpdateItem"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           }
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "DeleteVideoFnServiceRoleDefaultPolicyA48EA12E",
    "Roles": [
     {
      "Ref": "DeleteVideoFnServiceRoleD6ED579B"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/DeleteVideoFn/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "DeleteVideoFn76AB2E20": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-271633506783-ap-northeast-1",
     "S3Key": "ece272886cb7be2eeec01c3dc8d7fd755670de72ed62531871f256d24b26470e.zip"
    },
    "Description": "Delete video (system-admin only)",
    "Environment": {
     "Variables": {
      "S3_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefVideoBucket6ED8E1AF864760DE"
      },
      "ASSETS_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefAssetBucket1D0250868713D7D0"
      },
      "DYNAMODB_TABLE_VIDEO": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
      },
      "DYNAMODB_TABLE_BILLING": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
      },
      "DYNAMODB_TABLE_ORGANIZATION": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
      },
      "DYNAMODB_TABLE_SHOP": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
      },
      "DYNAMODB_TABLE_APPROVAL_REQUEST": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
      },
      "CLOUDFRONT_DOMAIN": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputFnGetAttDistribution830FAC52DomainNameBEB09E30"
      },
      "COGNITO_USER_POOL_ID": {
       "Fn::ImportValue": "video-nfc-auth-dev:ExportsOutputRefUserPool6BA7E5F296FD7236"
      },
      "SNS_TOPIC_ARN": {
       "Fn::ImportValue": "video-nfc-monitoring-dev:ExportsOutputRefAlertTopic2720D5359ADB6D3E"
      },
      "FRONTEND_URL": "http://localhost:3001",
      "ENVIRONMENT": "dev"
     }
    },
    "Handler": "index.handler",
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "DeleteVideoFnServiceRoleD6ED579B",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ],
    "Timeout": 29
   },
   "DependsOn": [
    "DeleteVideoFnServiceRoleDefaultPolicyA48EA12E",
    "DeleteVideoFnServiceRoleD6ED579B"
   ],
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/DeleteVideoFn/Resource",
    "aws:asset:path": "asset.ece272886cb7be2eeec01c3dc8d7fd755670de72ed62531871f256d24b26470e",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "GetVideoDetailPublicFnServiceRole9261D149": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/GetVideoDetailPublicFn/ServiceRole/Resource"
   }
  },
  "GetVideoDetailPublicFnServiceRoleDefaultPolicy1E8120CB": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "s3:GetBucket*",
        "s3:GetObject*",
        "s3:List*"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputFnGetAttVideoBucket6ED8E1AFArn892B0DD6"
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputFnGetAttVideoBucket6ED8E1AFArn892B0DD6"
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "dynamodb:DeleteItem",
        "dynamodb:GetItem",
        "dynamodb:PutItem",
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:UpdateItem"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           }
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "GetVideoDetailPublicFnServiceRoleDefaultPolicy1E8120CB",
    "Roles": [
     {
      "Ref": "GetVideoDetailPublicFnServiceRole9261D149"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/GetVideoDetailPublicFn/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "GetVideoDetailPublicFn32DCF86C": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-271633506783-ap-northeast-1",
     "S3Key": "d506051a5f5f7b933a753751a4a6f4e1aa796b4509c13a264cb0430981c6fb84.zip"
    },
    "Description": "Get video detail (public, no authentication)",
    "Environment": {
     "Variables": {
      "S3_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefVideoBucket6ED8E1AF864760DE"
      },
      "ASSETS_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefAssetBucket1D0250868713D7D0"
      },
      "DYNAMODB_TABLE_VIDEO": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
      },
      "DYNAMODB_TABLE_BILLING": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
      },
      "DYNAMODB_TABLE_ORGANIZATION": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
      },
      "DYNAMODB_TABLE_SHOP": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
      },
      "DYNAMODB_TABLE_APPROVAL_REQUEST": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
      },
      "CLOUDFRONT_DOMAIN": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputFnGetAttDistribution830FAC52DomainNameBEB09E30"
      },
      "COGNITO_USER_POOL_ID": {
       "Fn::ImportValue": "video-nfc-auth-dev:ExportsOutputRefUserPool6BA7E5F296FD7236"
      },
      "SNS_TOPIC_ARN": {
       "Fn::ImportValue": "video-nfc-monitoring-dev:ExportsOutputRefAlertTopic2720D5359ADB6D3E"
      },
      "FRONTEND_URL": "http://localhost:3001",
      "ENVIRONMENT": "dev"
     }
    },
    "Handler": "index.handler",
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "GetVideoDetailPublicFnServiceRole9261D149",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ],
    "Timeout": 29
   },
   "DependsOn": [
    "GetVideoDetailPublicFnServiceRoleDefaultPolicy1E8120CB",
    "GetVideoDetailPublicFnServiceRole9261D149"
   ],
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/GetVideoDetailPublicFn/Resource",
    "aws:asset:path": "asset.d506051a5f5f7b933a753751a4a6f4e1aa796b4509c13a264cb0430981c6fb84",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "GetAdminStatsFnServiceRole5F649976": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/GetAdminStatsFn/ServiceRole/Resource"
   }
  },
  "GetAdminStatsFnServiceRoleDefaultPolicy86E11032": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:DeleteItem",
        "dynamodb:GetItem",
        "dynamodb:PutItem",
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:UpdateItem"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           }
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "GetAdminStatsFnServiceRoleDefaultPolicy86E11032",
    "Roles": [
     {
      "Ref": "GetAdminStatsFnServiceRole5F649976"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/GetAdminStatsFn/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "GetAdminStatsFn9FA9DE4F": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-271633506783-ap-northeast-1",
     "S3Key": "1a6b5561f789e11e2ce53c27b9770f55fb17e62eb695bce0b03b2775df07587a.zip"
    },
    "Description": "Get admin statistics (system-admin only)",
    "Environment": {
     "Variables": {
      "S3_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefVideoBucket6ED8E1AF864760DE"
      },
      "ASSETS_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefAssetBucket1D0250868713D7D0"
      },
      "DYNAMODB_TABLE_VIDEO": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
      },
      "DYNAMODB_TABLE_BILLING": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
      },
      "DYNAMODB_TABLE_ORGANIZATION": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
      },
      "DYNAMODB_TABLE_SHOP": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
      },
      "DYNAMODB_TABLE_APPROVAL_REQUEST": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
      },
      "CLOUDFRONT_DOMAIN": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputFnGetAttDistribution830FAC52DomainNameBEB09E30"
      },
      "COGNITO_USER_POOL_ID": {
       "Fn::ImportValue": "video-nfc-auth-dev:ExportsOutputRefUserPool6BA7E5F296FD7236"
      },
      "SNS_TOPIC_ARN": {
       "Fn::ImportValue": "video-nfc-monitoring-dev:ExportsOutputRefAlertTopic2720D5359ADB6D3E"
      },
      "FRONTEND_URL": "http://localhost:3001",
      "ENVIRONMENT": "dev"
     }
    },
    "Handler": "handlers/getAdminStats.handler",
    "MemorySize": 1024,
    "Role": {
     "Fn::GetAtt": [
      "GetAdminStatsFnServiceRole5F649976",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ],
    "Timeout": 29
   },
   "DependsOn": [
    "GetAdminStatsFnServiceRoleDefaultPolicy86E11032",
    "GetAdminStatsFnServiceRole5F649976"
   ],
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/GetAdminStatsFn/Resource",
    "aws:asset:path": "asset.1a6b5561f789e11e2ce53c27b9770f55fb17e62eb695bce0b03b2775df07587a",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "ListAllVideosFnServiceRole6BE842B6": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/ListAllVideosFn/ServiceRole/Resource"
   }
  },
  "ListAllVideosFnServiceRoleDefaultPolicy945C1E55": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:DeleteItem",
        "dynamodb:GetItem",
        "dynamodb:PutItem",
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:UpdateItem"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           }
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "ListAllVideosFnServiceRoleDefaultPolicy945C1E55",
    "Roles": [
     {
      "Ref": "ListAllVideosFnServiceRole6BE842B6"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/ListAllVideosFn/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "ListAllVideosFn65961858": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-271633506783-ap-northeast-1",
     "S3Key": "1a6b5561f789e11e2ce53c27b9770f55fb17e62eb695bce0b03b2775df07587a.zip"
    },
    "Description": "List all videos (system-admin only)",
    "Environment": {
     "Variables": {
      "S3_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefVideoBucket6ED8E1AF864760DE"
      },
      "ASSETS_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefAssetBucket1D0250868713D7D0"
      },
      "DYNAMODB_TABLE_VIDEO": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
      },
      "DYNAMODB_TABLE_BILLING": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
      },
      "DYNAMODB_TABLE_ORGANIZATION": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
      },
      "DYNAMODB_TABLE_SHOP": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
      },
      "DYNAMODB_TABLE_APPROVAL_REQUEST": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
      },
      "CLOUDFRONT_DOMAIN": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputFnGetAttDistribution830FAC52DomainNameBEB09E30"
      },
      "COGNITO_USER_POOL_ID": {
       "Fn::ImportValue": "video-nfc-auth-dev:ExportsOutputRefUserPool6BA7E5F296FD7236"
      },
      "SNS_TOPIC_ARN": {
       "Fn::ImportValue": "video-nfc-monitoring-dev:ExportsOutputRefAlertTopic2720D5359ADB6D3E"
      },
      "FRONTEND_URL": "http://localhost:3001",
      "ENVIRONMENT": "dev"
     }
    },
    "Handler": "handlers/listAllVideos.handler",
    "MemorySize": 1024,
    "Role": {
     "Fn::GetAtt": [
      "ListAllVideosFnServiceRole6BE842B6",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ],
    "Timeout": 29
   },
   "DependsOn": [
    "ListAllVideosFnServiceRoleDefaultPolicy945C1E55",
    "ListAllVideosFnServiceRole6BE842B6"
   ],
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/ListAllVideosFn/Resource",
    "aws:asset:path": "asset.1a6b5561f789e11e2ce53c27b9770f55fb17e62eb695bce0b03b2775df07587a",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "ListOrganizationsFnServiceRole3C784B76": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/ListOrganizationsFn/ServiceRole/Resource"
   }
  },
  "ListOrganizationsFnServiceRoleDefaultPolicy60544C45": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:DeleteItem",
        "dynamodb:GetItem",
        "dynamodb:PutItem",
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:UpdateItem"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           }
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "ListOrganizationsFnServiceRoleDefaultPolicy60544C45",
    "Roles": [
     {
      "Ref": "ListOrganizationsFnServiceRole3C784B76"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/ListOrganizationsFn/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "ListOrganizationsFnA0A74480": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-271633506783-ap-northeast-1",
     "S3Key": "1a6b5561f789e11e2ce53c27b9770f55fb17e62eb695bce0b03b2775df07587a.zip"
    },
    "Description": "List organizations",
    "Environment": {
     "Variables": {
      "S3_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefVideoBucket6ED8E1AF864760DE"
      },
      "ASSETS_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefAssetBucket1D0250868713D7D0"
      },
      "DYNAMODB_TABLE_VIDEO": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
      },
      "DYNAMODB_TABLE_BILLING": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
      },
      "DYNAMODB_TABLE_ORGANIZATION": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
      },
      "DYNAMODB_TABLE_SHOP": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
      },
      "DYNAMODB_TABLE_APPROVAL_REQUEST": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
      },
      "CLOUDFRONT_DOMAIN": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputFnGetAttDistribution830FAC52DomainNameBEB09E30"
      },
      "COGNITO_USER_POOL_ID": {
       "Fn::ImportValue": "video-nfc-auth-dev:ExportsOutputRefUserPool6BA7E5F296FD7236"
      },
      "SNS_TOPIC_ARN": {
       "Fn::ImportValue": "video-nfc-monitoring-dev:ExportsOutputRefAlertTopic2720D5359ADB6D3E"
      },
      "FRONTEND_URL": "http://localhost:3001",
      "ENVIRONMENT": "dev"
     }
    },
    "Handler": "handlers/listOrganizations.handler",
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "ListOrganizationsFnServiceRole3C784B76",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ],
    "Timeout": 29
   },
   "DependsOn": [
    "ListOrganizationsFnServiceRoleDefaultPolicy60544C45",
    "ListOrganizationsFnServiceRole3C784B76"
   ],
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/ListOrganizationsFn/Resource",
    "aws:asset:path": "asset.1a6b5561f789e11e2ce53c27b9770f55fb17e62eb695bce0b03b2775df07587a",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "CreateOrganizationFnServiceRoleF824440C": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/CreateOrganizationFn/ServiceRole/Resource"
   }
  },
  "CreateOrganizationFnServiceRoleDefaultPolicy5966FF10": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:DeleteItem",
        "dynamodb:GetItem",
        "dynamodb:PutItem",
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:UpdateItem"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           }
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "CreateOrganizationFnServiceRoleDefaultPolicy5966FF10",
    "Roles": [
     {
      "Ref": "CreateOrganizationFnServiceRoleF824440C"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/CreateOrganizationFn/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "CreateOrganizationFn28E1EDAB": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-271633506783-ap-northeast-1",
     "S3Key": "1a6b5561f789e11e2ce53c27b9770f55fb17e62eb695bce0b03b2775df07587a.zip"
    },
    "Description": "Create organization (system-admin only)",
    "Environment": {
     "Variables": {
      "S3_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefVideoBucket6ED8E1AF864760DE"
      },
      "ASSETS_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefAssetBucket1D0250868713D7D0"
      },
      "DYNAMODB_TABLE_VIDEO": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
      },
      "DYNAMODB_TABLE_BILLING": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
      },
      "DYNAMODB_TABLE_ORGANIZATION": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
      },
      "DYNAMODB_TABLE_SHOP": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
      },
      "DYNAMODB_TABLE_APPROVAL_REQUEST": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
      },
      "CLOUDFRONT_DOMAIN": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputFnGetAttDistribution830FAC52DomainNameBEB09E30"
      },
      "COGNITO_USER_POOL_ID": {
       "Fn::ImportValue": "video-nfc-auth-dev:ExportsOutputRefUserPool6BA7E5F296FD7236"
      },
      "SNS_TOPIC_ARN": {
       "Fn::ImportValue": "video-nfc-monitoring-dev:ExportsOutputRefAlertTopic2720D5359ADB6D3E"
      },
      "FRONTEND_URL": "http://localhost:3001",
      "ENVIRONMENT": "dev"
     }
    },
    "Handler": "handlers/createOrganization.handler",
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "CreateOrganizationFnServiceRoleF824440C",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ],
    "Timeout": 29
   },
   "DependsOn": [
    "CreateOrganizationFnServiceRoleDefaultPolicy5966FF10",
    "CreateOrganizationFnServiceRoleF824440C"
   ],
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/CreateOrganizationFn/Resource",
    "aws:asset:path": "asset.1a6b5561f789e11e2ce53c27b9770f55fb17e62eb695bce0b03b2775df07587a",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "UpdateOrganizationFnServiceRole45F0DD13": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/UpdateOrganizationFn/ServiceRole/Resource"
   }
  },
  "UpdateOrganizationFnServiceRoleDefaultPolicy59A899E6": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:DeleteItem",
        "dynamodb:GetItem",
        "dynamodb:PutItem",
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:UpdateItem"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           }
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "UpdateOrganizationFnServiceRoleDefaultPolicy59A899E6",
    "Roles": [
     {
      "Ref": "UpdateOrganizationFnServiceRole45F0DD13"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/UpdateOrganizationFn/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "UpdateOrganizationFn24918ABB": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-271633506783-ap-northeast-1",
     "S3Key": "1a6b5561f789e11e2ce53c27b9770f55fb17e62eb695bce0b03b2775df07587a.zip"
    },
    "Description": "Update organization (system-admin only)",
    "Environment": {
     "Variables": {
      "S3_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefVideoBucket6ED8E1AF864760DE"
      },
      "ASSETS_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefAssetBucket1D0250868713D7D0"
      },
      "DYNAMODB_TABLE_VIDEO": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
      },
      "DYNAMODB_TABLE_BILLING": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
      },
      "DYNAMODB_TABLE_ORGANIZATION": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
      },
      "DYNAMODB_TABLE_SHOP": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
      },
      "DYNAMODB_TABLE_APPROVAL_REQUEST": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
      },
      "CLOUDFRONT_DOMAIN": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputFnGetAttDistribution830FAC52DomainNameBEB09E30"
      },
      "COGNITO_USER_POOL_ID": {
       "Fn::ImportValue": "video-nfc-auth-dev:ExportsOutputRefUserPool6BA7E5F296FD7236"
      },
      "SNS_TOPIC_ARN": {
       "Fn::ImportValue": "video-nfc-monitoring-dev:ExportsOutputRefAlertTopic2720D5359ADB6D3E"
      },
      "FRONTEND_URL": "http://localhost:3001",
      "ENVIRONMENT": "dev"
     }
    },
    "Handler": "handlers/updateOrganization.handler",
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "UpdateOrganizationFnServiceRole45F0DD13",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ],
    "Timeout": 29
   },
   "DependsOn": [
    "UpdateOrganizationFnServiceRoleDefaultPolicy59A899E6",
    "UpdateOrganizationFnServiceRole45F0DD13"
   ],
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/UpdateOrganizationFn/Resource",
    "aws:asset:path": "asset.1a6b5561f789e11e2ce53c27b9770f55fb17e62eb695bce0b03b2775df07587a",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "DeleteOrganizationFnServiceRole87D161BB": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/DeleteOrganizationFn/ServiceRole/Resource"
   }
  },
  "DeleteOrganizationFnServiceRoleDefaultPolicy5CEE4450": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:DeleteItem",
        "dynamodb:GetItem",
        "dynamodb:PutItem",
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:UpdateItem"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           }
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "DeleteOrganizationFnServiceRoleDefaultPolicy5CEE4450",
    "Roles": [
     {
      "Ref": "DeleteOrganizationFnServiceRole87D161BB"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/DeleteOrganizationFn/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "DeleteOrganizationFn67C854BE": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-271633506783-ap-northeast-1",
     "S3Key": "1a6b5561f789e11e2ce53c27b9770f55fb17e62eb695bce0b03b2775df07587a.zip"
    },
    "Description": "Delete organization permanently (system-admin only)",
    "Environment": {
     "Variables": {
      "S3_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefVideoBucket6ED8E1AF864760DE"
      },
      "ASSETS_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefAssetBucket1D0250868713D7D0"
      },
      "DYNAMODB_TABLE_VIDEO": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
      },
      "DYNAMODB_TABLE_BILLING": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
      },
      "DYNAMODB_TABLE_ORGANIZATION": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
      },
      "DYNAMODB_TABLE_SHOP": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
      },
      "DYNAMODB_TABLE_APPROVAL_REQUEST": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
      },
      "CLOUDFRONT_DOMAIN": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputFnGetAttDistribution830FAC52DomainNameBEB09E30"
      },
      "COGNITO_USER_POOL_ID": {
       "Fn::ImportValue": "video-nfc-auth-dev:ExportsOutputRefUserPool6BA7E5F296FD7236"
      },
      "SNS_TOPIC_ARN": {
       "Fn::ImportValue": "video-nfc-monitoring-dev:ExportsOutputRefAlertTopic2720D5359ADB6D3E"
      },
      "FRONTEND_URL": "http://localhost:3001",
      "ENVIRONMENT": "dev"
     }
    },
    "Handler": "handlers/deleteOrganization.handler",
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "DeleteOrganizationFnServiceRole87D161BB",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ],
    "Timeout": 29
   },
   "DependsOn": [
    "DeleteOrganizationFnServiceRoleDefaultPolicy5CEE4450",
    "DeleteOrganizationFnServiceRole87D161BB"
   ],
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/DeleteOrganizationFn/Resource",
    "aws:asset:path": "asset.1a6b5561f789e11e2ce53c27b9770f55fb17e62eb695bce0b03b2775df07587a",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "CreateApprovalRequestFnServiceRoleA74C72AD": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/CreateApprovalRequestFn/ServiceRole/Resource"
   }
  },
  "CreateApprovalRequestFnServiceRoleDefaultPolicy4FFBC370": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:DeleteItem",
        "dynamodb:GetItem",
        "dynamodb:PutItem",
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:UpdateItem"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           }
          ]
         ]
        }
       ]
      },
      {
       "Action": "sns:Publish",
       "Effect": "Allow",
       "Resource": {
        "Fn::ImportValue": "video-nfc-monitoring-dev:ExportsOutputRefAlertTopic2720D5359ADB6D3E"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "CreateApprovalRequestFnServiceRoleDefaultPolicy4FFBC370",
    "Roles": [
     {
      "Ref": "CreateApprovalRequestFnServiceRoleA74C72AD"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/CreateApprovalRequestFn/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "CreateApprovalRequestFn718ADAFF": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-271633506783-ap-northeast-1",
     "S3Key": "1a6b5561f789e11e2ce53c27b9770f55fb17e62eb695bce0b03b2775df07587a.zip"
    },
    "Description": "Create approval request for organization registration",
    "Environment": {
     "Variables": {
      "S3_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefVideoBucket6ED8E1AF864760DE"
      },
      "ASSETS_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefAssetBucket1D0250868713D7D0"
      },
      "DYNAMODB_TABLE_VIDEO": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
      },
      "DYNAMODB_TABLE_BILLING": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
      },
      "DYNAMODB_TABLE_ORGANIZATION": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
      },
      "DYNAMODB_TABLE_SHOP": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
      },
      "DYNAMODB_TABLE_APPROVAL_REQUEST": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
      },
      "CLOUDFRONT_DOMAIN": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputFnGetAttDistribution830FAC52DomainNameBEB09E30"
      },
      "COGNITO_USER_POOL_ID": {
       "Fn::ImportValue": "video-nfc-auth-dev:ExportsOutputRefUserPool6BA7E5F296FD7236"
      },
      "SNS_TOPIC_ARN": {
       "Fn::ImportValue": "video-nfc-monitoring-dev:ExportsOutputRefAlertTopic2720D5359ADB6D3E"
      },
      "FRONTEND_URL": "http://localhost:3001",
      "ENVIRONMENT": "dev"
     }
    },
    "Handler": "handlers/createApprovalRequest.handler",
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "CreateApprovalRequestFnServiceRoleA74C72AD",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ],
    "Timeout": 29
   },
   "DependsOn": [
    "CreateApprovalRequestFnServiceRoleDefaultPolicy4FFBC370",
    "CreateApprovalRequestFnServiceRoleA74C72AD"
   ],
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/CreateApprovalRequestFn/Resource",
    "aws:asset:path": "asset.1a6b5561f789e11e2ce53c27b9770f55fb17e62eb695bce0b03b2775df07587a",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "SubmitApprovalFormFnServiceRole33F1B3B9": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/SubmitApprovalFormFn/ServiceRole/Resource"
   }
  },
  "SubmitApprovalFormFnServiceRoleDefaultPolicy906C0A9C": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:DeleteItem",
        "dynamodb:GetItem",
        "dynamodb:PutItem",
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:UpdateItem"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           }
          ]
         ]
        }
       ]
      },
      {
       "Action": "sns:Publish",
       "Effect": "Allow",
       "Resource": {
        "Fn::ImportValue": "video-nfc-monitoring-dev:ExportsOutputRefAlertTopic2720D5359ADB6D3E"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "SubmitApprovalFormFnServiceRoleDefaultPolicy906C0A9C",
    "Roles": [
     {
      "Ref": "SubmitApprovalFormFnServiceRole33F1B3B9"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/SubmitApprovalFormFn/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "SubmitApprovalFormFn5AFD1F9D": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-271633506783-ap-northeast-1",
     "S3Key": "1a6b5561f789e11e2ce53c27b9770f55fb17e62eb695bce0b03b2775df07587a.zip"
    },
    "Description": "Submit approval form data",
    "Environment": {
     "Variables": {
      "S3_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefVideoBucket6ED8E1AF864760DE"
      },
      "ASSETS_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefAssetBucket1D0250868713D7D0"
      },
      "DYNAMODB_TABLE_VIDEO": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
      },
      "DYNAMODB_TABLE_BILLING": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
      },
      "DYNAMODB_TABLE_ORGANIZATION": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
      },
      "DYNAMODB_TABLE_SHOP": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
      },
      "DYNAMODB_TABLE_APPROVAL_REQUEST": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
      },
      "CLOUDFRONT_DOMAIN": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputFnGetAttDistribution830FAC52DomainNameBEB09E30"
      },
      "COGNITO_USER_POOL_ID": {
       "Fn::ImportValue": "video-nfc-auth-dev:ExportsOutputRefUserPool6BA7E5F296FD7236"
      },
      "SNS_TOPIC_ARN": {
       "Fn::ImportValue": "video-nfc-monitoring-dev:ExportsOutputRefAlertTopic2720D5359ADB6D3E"
      },
      "FRONTEND_URL": "http://localhost:3001",
      "ENVIRONMENT": "dev"
     }
    },
    "Handler": "handlers/submitApprovalForm.handler",
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "SubmitApprovalFormFnServiceRole33F1B3B9",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ],
    "Timeout": 29
   },
   "DependsOn": [
    "SubmitApprovalFormFnServiceRoleDefaultPolicy906C0A9C",
    "SubmitApprovalFormFnServiceRole33F1B3B9"
   ],
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/SubmitApprovalFormFn/Resource",
    "aws:asset:path": "asset.1a6b5561f789e11e2ce53c27b9770f55fb17e62eb695bce0b03b2775df07587a",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "GetPendingApprovalsFnServiceRole4BCF559D": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/GetPendingApprovalsFn/ServiceRole/Resource"
   }
  },
  "GetPendingApprovalsFnServiceRoleDefaultPolicy5F73EB8D": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:DeleteItem",
        "dynamodb:GetItem",
        "dynamodb:PutItem",
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:UpdateItem"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           }
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "GetPendingApprovalsFnServiceRoleDefaultPolicy5F73EB8D",
    "Roles": [
     {
      "Ref": "GetPendingApprovalsFnServiceRole4BCF559D"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/GetPendingApprovalsFn/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "GetPendingApprovalsFn21E353FA": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-271633506783-ap-northeast-1",
     "S3Key": "1a6b5561f789e11e2ce53c27b9770f55fb17e62eb695bce0b03b2775df07587a.zip"
    },
    "Description": "Get pending approval requests",
    "Environment": {
     "Variables": {
      "S3_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefVideoBucket6ED8E1AF864760DE"
      },
      "ASSETS_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefAssetBucket1D0250868713D7D0"
      },
      "DYNAMODB_TABLE_VIDEO": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
      },
      "DYNAMODB_TABLE_BILLING": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
      },
      "DYNAMODB_TABLE_ORGANIZATION": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
      },
      "DYNAMODB_TABLE_SHOP": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
      },
      "DYNAMODB_TABLE_APPROVAL_REQUEST": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
      },
      "CLOUDFRONT_DOMAIN": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputFnGetAttDistribution830FAC52DomainNameBEB09E30"
      },
      "COGNITO_USER_POOL_ID": {
       "Fn::ImportValue": "video-nfc-auth-dev:ExportsOutputRefUserPool6BA7E5F296FD7236"
      },
      "SNS_TOPIC_ARN": {
       "Fn::ImportValue": "video-nfc-monitoring-dev:ExportsOutputRefAlertTopic2720D5359ADB6D3E"
      },
      "FRONTEND_URL": "http://localhost:3001",
      "ENVIRONMENT": "dev"
     }
    },
    "Handler": "handlers/getPendingApprovals.handler",
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "GetPendingApprovalsFnServiceRole4BCF559D",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ],
    "Timeout": 29
   },
   "DependsOn": [
    "GetPendingApprovalsFnServiceRoleDefaultPolicy5F73EB8D",
    "GetPendingApprovalsFnServiceRole4BCF559D"
   ],
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/GetPendingApprovalsFn/Resource",
    "aws:asset:path": "asset.1a6b5561f789e11e2ce53c27b9770f55fb17e62eb695bce0b03b2775df07587a",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "GetApprovalRequestFnServiceRoleED0CD203": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/GetApprovalRequestFn/ServiceRole/Resource"
   }
  },
  "GetApprovalRequestFnServiceRoleDefaultPolicy901BCF10": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:DeleteItem",
        "dynamodb:GetItem",
        "dynamodb:PutItem",
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:UpdateItem"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           }
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "GetApprovalRequestFnServiceRoleDefaultPolicy901BCF10",
    "Roles": [
     {
      "Ref": "GetApprovalRequestFnServiceRoleED0CD203"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/GetApprovalRequestFn/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "GetApprovalRequestFnBF49EA4B": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-271633506783-ap-northeast-1",
     "S3Key": "1a6b5561f789e11e2ce53c27b9770f55fb17e62eb695bce0b03b2775df07587a.zip"
    },
    "Description": "Get approval request details",
    "Environment": {
     "Variables": {
      "S3_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefVideoBucket6ED8E1AF864760DE"
      },
      "ASSETS_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefAssetBucket1D0250868713D7D0"
      },
      "DYNAMODB_TABLE_VIDEO": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
      },
      "DYNAMODB_TABLE_BILLING": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
      },
      "DYNAMODB_TABLE_ORGANIZATION": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
      },
      "DYNAMODB_TABLE_SHOP": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
      },
      "DYNAMODB_TABLE_APPROVAL_REQUEST": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
      },
      "CLOUDFRONT_DOMAIN": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputFnGetAttDistribution830FAC52DomainNameBEB09E30"
      },
      "COGNITO_USER_POOL_ID": {
       "Fn::ImportValue": "video-nfc-auth-dev:ExportsOutputRefUserPool6BA7E5F296FD7236"
      },
      "SNS_TOPIC_ARN": {
       "Fn::ImportValue": "video-nfc-monitoring-dev:ExportsOutputRefAlertTopic2720D5359ADB6D3E"
      },
      "FRONTEND_URL": "http://localhost:3001",
      "ENVIRONMENT": "dev"
     }
    },
    "Handler": "handlers/getApprovalRequest.handler",
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "GetApprovalRequestFnServiceRoleED0CD203",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ],
    "Timeout": 29
   },
   "DependsOn": [
    "GetApprovalRequestFnServiceRoleDefaultPolicy901BCF10",
    "GetApprovalRequestFnServiceRoleED0CD203"
   ],
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/GetApprovalRequestFn/Resource",
    "aws:asset:path": "asset.1a6b5561f789e11e2ce53c27b9770f55fb17e62eb695bce0b03b2775df07587a",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "ApproveRequestFnServiceRole4351048D": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/ApproveRequestFn/ServiceRole/Resource"
   }
  },
  "ApproveRequestFnServiceRoleDefaultPolicyD214D7C8": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:DeleteItem",
        "dynamodb:GetItem",
        "dynamodb:PutItem",
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:UpdateItem"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           }
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "cognito-idp:AdminAddUserToGroup",
        "cognito-idp:AdminCreateUser",
        "cognito-idp:AdminSetUserPassword"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::Join": [
         "",
         [
          "arn:aws:cognito-idp:ap-northeast-1:271633506783:userpool/",
          {
           "Fn::ImportValue": "video-nfc-auth-dev:ExportsOutputRefUserPool6BA7E5F296FD7236"
          }
         ]
        ]
       }
      },
      {
       "Action": "sns:Publish",
       "Effect": "Allow",
       "Resource": {
        "Fn::ImportValue": "video-nfc-monitoring-dev:ExportsOutputRefAlertTopic2720D5359ADB6D3E"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "ApproveRequestFnServiceRoleDefaultPolicyD214D7C8",
    "Roles": [
     {
      "Ref": "ApproveRequestFnServiceRole4351048D"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/ApproveRequestFn/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "ApproveRequestFn7379B9F6": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-271633506783-ap-northeast-1",
     "S3Key": "1a6b5561f789e11e2ce53c27b9770f55fb17e62eb695bce0b03b2775df07587a.zip"
    },
    "Description": "Approve organization registration request",
    "Environment": {
     "Variables": {
      "S3_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefVideoBucket6ED8E1AF864760DE"
      },
      "ASSETS_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefAssetBucket1D0250868713D7D0"
      },
      "DYNAMODB_TABLE_VIDEO": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
      },
      "DYNAMODB_TABLE_BILLING": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
      },
      "DYNAMODB_TABLE_ORGANIZATION": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
      },
      "DYNAMODB_TABLE_SHOP": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
      },
      "DYNAMODB_TABLE_APPROVAL_REQUEST": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
      },
      "CLOUDFRONT_DOMAIN": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputFnGetAttDistribution830FAC52DomainNameBEB09E30"
      },
      "COGNITO_USER_POOL_ID": {
       "Fn::ImportValue": "video-nfc-auth-dev:ExportsOutputRefUserPool6BA7E5F296FD7236"
      },
      "SNS_TOPIC_ARN": {
       "Fn::ImportValue": "video-nfc-monitoring-dev:ExportsOutputRefAlertTopic2720D5359ADB6D3E"
      },
      "FRONTEND_URL": "http://localhost:3001",
      "ENVIRONMENT": "dev"
     }
    },
    "Handler": "handlers/approveRequest.handler",
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "ApproveRequestFnServiceRole4351048D",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ],
    "Timeout": 29
   },
   "DependsOn": [
    "ApproveRequestFnServiceRoleDefaultPolicyD214D7C8",
    "ApproveRequestFnServiceRole4351048D"
   ],
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/ApproveRequestFn/Resource",
    "aws:asset:path": "asset.1a6b5561f789e11e2ce53c27b9770f55fb17e62eb695bce0b03b2775df07587a",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "RejectRequestFnServiceRole69890352": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/RejectRequestFn/ServiceRole/Resource"
   }
  },
  "RejectRequestFnServiceRoleDefaultPolicyC9C64531": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:DeleteItem",
        "dynamodb:GetItem",
        "dynamodb:PutItem",
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:UpdateItem"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           },
           "/index/*"
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:dynamodb:ap-northeast-1:271633506783:table/",
           {
            "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
           }
          ]
         ]
        }
       ]
      },
      {
       "Action": "sns:Publish",
       "Effect": "Allow",
       "Resource": {
        "Fn::ImportValue": "video-nfc-monitoring-dev:ExportsOutputRefAlertTopic2720D5359ADB6D3E"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "RejectRequestFnServiceRoleDefaultPolicyC9C64531",
    "Roles": [
     {
      "Ref": "RejectRequestFnServiceRole69890352"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/RejectRequestFn/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "RejectRequestFn4DE6112B": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-271633506783-ap-northeast-1",
     "S3Key": "1a6b5561f789e11e2ce53c27b9770f55fb17e62eb695bce0b03b2775df07587a.zip"
    },
    "Description": "Reject organization registration request",
    "Environment": {
     "Variables": {
      "S3_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefVideoBucket6ED8E1AF864760DE"
      },
      "ASSETS_BUCKET_NAME": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputRefAssetBucket1D0250868713D7D0"
      },
      "DYNAMODB_TABLE_VIDEO": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefVideoMetadataTable0E75C188A8FBFADA"
      },
      "DYNAMODB_TABLE_BILLING": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefBillingTableC3F396AA0CA38283"
      },
      "DYNAMODB_TABLE_ORGANIZATION": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefOrganizationTableEB2ED67CAB7DAF7D"
      },
      "DYNAMODB_TABLE_SHOP": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefShopTable66489897B4F69EEF"
      },
      "DYNAMODB_TABLE_APPROVAL_REQUEST": {
       "Fn::ImportValue": "video-nfc-database-dev:ExportsOutputRefApprovalRequestTable754DE8BFCE5E306A"
      },
      "CLOUDFRONT_DOMAIN": {
       "Fn::ImportValue": "video-nfc-storage-dev:ExportsOutputFnGetAttDistribution830FAC52DomainNameBEB09E30"
      },
      "COGNITO_USER_POOL_ID": {
       "Fn::ImportValue": "video-nfc-auth-dev:ExportsOutputRefUserPool6BA7E5F296FD7236"
      },
      "SNS_TOPIC_ARN": {
       "Fn::ImportValue": "video-nfc-monitoring-dev:ExportsOutputRefAlertTopic2720D5359ADB6D3E"
      },
      "FRONTEND_URL": "http://localhost:3001",
      "ENVIRONMENT": "dev"
     }
    },
    "Handler": "handlers/rejectRequest.handler",
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "RejectRequestFnServiceRole69890352",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ],
    "Timeout": 29
   },
   "DependsOn": [
    "RejectRequestFnServiceRoleDefaultPolicyC9C64531",
    "RejectRequestFnServiceRole69890352"
   ],
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/RejectRequestFn/Resource",
    "aws:asset:path": "asset.1a6b5561f789e11e2ce53c27b9770f55fb17e62eb695bce0b03b2775df07587a",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "ApiGatewayLogGroupA9770429": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": "/aws/apigateway/video-nfc-dev",
    "RetentionInDays": 30,
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/ApiGatewayLogGroup/Resource"
   }
  },
  "VideoNfcRestApi2957FD56": {
   "Type": "AWS::ApiGateway::RestApi",
   "Properties": {
    "Description": "NFCタグ付きキーホルダー向け動画配信システム API (dev)",
    "Name": "video-nfc-api-dev",
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Resource"
   }
  },
  "VideoNfcRestApiCloudWatchRole4CAE3044": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "apigateway.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ]
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/CloudWatchRole/Resource"
   }
  },
  "VideoNfcRestApiAccountDFEECC7B": {
   "Type": "AWS::ApiGateway::Account",
   "Properties": {
    "CloudWatchRoleArn": {
     "Fn::GetAtt": [
      "VideoNfcRestApiCloudWatchRole4CAE3044",
      "Arn"
     ]
    }
   },
   "DependsOn": [
    "VideoNfcRestApi2957FD56"
   ],
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Account"
   }
  },
  "VideoNfcRestApiDeploymentBE44B6A0f3a39152f086180c6aba49ae0f6e4d24": {
   "Type": "AWS::ApiGateway::Deployment",
   "Properties": {
    "Description": "NFCタグ付きキーホルダー向け動画配信システム API (dev)",
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "DependsOn": [
    "CognitoAuthorizerF3215DBC",
    "VideoNfcRestApiadminOPTIONSCA13D153",
    "VideoNfcRestApiadminC4C1F2E6",
    "VideoNfcRestApiadminstatsGETF83F8474",
    "VideoNfcRestApiadminstatsOPTIONSA9B9AE00",
    "VideoNfcRestApiadminstatsA868C662",
    "VideoNfcRestApiadminvideosGET4B0D13EB",
    "VideoNfcRestApiadminvideosOPTIONS4E3FC409",
    "VideoNfcRestApiadminvideos0E0E8020",
    "VideoNfcRestApiapprovalsrequestIdapproveOPTIONS3D2A33D3",
    "VideoNfcRestApiapprovalsrequestIdapprovePOST4F03434D",
    "VideoNfcRestApiapprovalsrequestIdapprove8036C448",
    "VideoNfcRestApiapprovalsrequestIdGET7C2679D9",
    "VideoNfcRestApiapprovalsrequestIdOPTIONS4D6D6524",
    "VideoNfcRestApiapprovalsrequestIdrejectOPTIONS8610F182",
    "VideoNfcRestApiapprovalsrequestIdrejectPOST3A694A50",
    "VideoNfcRestApiapprovalsrequestIdrejectDC8373FC",
    "VideoNfcRestApiapprovalsrequestId729F57F9",
    "VideoNfcRestApiapprovalsrequestIdsubmitOPTIONS3546F9C6",
    "VideoNfcRestApiapprovalsrequestIdsubmitPOST98654FBF",
    "VideoNfcRestApiapprovalsrequestIdsubmit33504541",
    "VideoNfcRestApiapprovalsGETB03483FB",
    "VideoNfcRestApiapprovalsOPTIONS03E17468",
    "VideoNfcRestApiapprovalsPOSTF4CFA1D1",
    "VideoNfcRestApiapprovalsC7BA2806",
    "VideoNfcRestApiOPTIONS522FE47B",
    "VideoNfcRestApiorganizationsorganizationIdDELETE69D09147",
    "VideoNfcRestApiorganizationsorganizationIdOPTIONSDCEF57D7",
    "VideoNfcRestApiorganizationsorganizationIdPUT61A82810",
    "VideoNfcRestApiorganizationsorganizationIdA74F524E",
    "VideoNfcRestApiorganizationsGET17793C70",
    "VideoNfcRestApiorganizationsOPTIONS151AD4D4",
    "VideoNfcRestApiorganizationsPOST02549991",
    "VideoNfcRestApiorganizations7B4E095B",
    "VideoNfcRestApivideosvideoIdDELETEEB2F1C59",
    "VideoNfcRestApivideosvideoIddetailGET2D03076A",
    "VideoNfcRestApivideosvideoIddetailOPTIONS551FE39F",
    "VideoNfcRestApivideosvideoIddetail68B41D94",
    "VideoNfcRestApivideosvideoIdGET5A15AA73",
    "VideoNfcRestApivideosvideoIdOPTIONS3549ABD6",
    "VideoNfcRestApivideosvideoId49256A44",
    "VideoNfcRestApivideosGETCC16DCAB",
    "VideoNfcRestApivideosOPTIONSEACD6E18",
    "VideoNfcRestApivideos2FB4570E",
    "VideoNfcRestApivideosuploadurlOPTIONS65D07DB2",
    "VideoNfcRestApivideosuploadurlPOSTDE7D1ACE",
    "VideoNfcRestApivideosuploadurl177C310E"
   ],
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Deployment/Resource",
    "aws:cdk:do-not-refactor": true
   }
  },
  "VideoNfcRestApiDeploymentStagedev631C8378": {
   "Type": "AWS::ApiGateway::Stage",
   "Properties": {
    "AccessLogSetting": {
     "DestinationArn": {
      "Fn::GetAtt": [
       "ApiGatewayLogGroupA9770429",
       "Arn"
      ]
     },
     "Format": "{\"requestId\":\"$context.requestId\",\"ip\":\"$context.identity.sourceIp\",\"user\":\"$context.identity.user\",\"caller\":\"$context.identity.caller\",\"requestTime\":\"$context.requestTime\",\"httpMethod\":\"$context.httpMethod\",\"resourcePath\":\"$context.resourcePath\",\"status\":\"$context.status\",\"protocol\":\"$context.protocol\",\"responseLength\":\"$context.responseLength\"}"
    },
    "DeploymentId": {
     "Ref": "VideoNfcRestApiDeploymentBE44B6A0f3a39152f086180c6aba49ae0f6e4d24"
    },
    "MethodSettings": [
     {
      "DataTraceEnabled": true,
      "HttpMethod": "*",
      "LoggingLevel": "INFO",
      "MetricsEnabled": true,
      "ResourcePath": "/*",
      "ThrottlingBurstLimit": 2000,
      "ThrottlingRateLimit": 1000
     }
    ],
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    },
    "StageName": "dev",
    "Tags": [
     {
      "Key": "Environment",
      "Value": "dev"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "video-nfc"
     }
    ]
   },
   "DependsOn": [
    "VideoNfcRestApiAccountDFEECC7B"
   ],
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/DeploymentStage.dev/Resource"
   }
  },
  "VideoNfcRestApiOPTIONS522FE47B": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'GET,POST,DELETE,OPTIONS'",
        "method.response.header.Access-Control-Allow-Credentials": "'true'",
        "method.response.header.Access-Control-Max-Age": "'864000'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true,
       "method.response.header.Access-Control-Allow-Credentials": true,
       "method.response.header.Access-Control-Max-Age": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Fn::GetAtt": [
      "VideoNfcRestApi2957FD56",
      "RootResourceId"
     ]
    },
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/OPTIONS/Resource"
   }
  },
  "VideoNfcRestApivideos2FB4570E": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "VideoNfcRestApi2957FD56",
      "RootResourceId"
     ]
    },
    "PathPart": "videos",
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/videos/Resource"
   }
  },
  "VideoNfcRestApivideosOPTIONSEACD6E18": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'GET,POST,DELETE,OPTIONS'",
        "method.response.header.Access-Control-Allow-Credentials": "'true'",
        "method.response.header.Access-Control-Max-Age": "'864000'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true,
       "method.response.header.Access-Control-Allow-Credentials": true,
       "method.response.header.Access-Control-Max-Age": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "VideoNfcRestApivideos2FB4570E"
    },
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/videos/OPTIONS/Resource"
   }
  },
  "VideoNfcRestApivideosuploadurl177C310E": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "VideoNfcRestApivideos2FB4570E"
    },
    "PathPart": "upload-url",
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/videos/upload-url/Resource"
   }
  },
  "VideoNfcRestApivideosuploadurlOPTIONS65D07DB2": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'GET,POST,DELETE,OPTIONS'",
        "method.response.header.Access-Control-Allow-Credentials": "'true'",
        "method.response.header.Access-Control-Max-Age": "'864000'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true,
       "method.response.header.Access-Control-Allow-Credentials": true,
       "method.response.header.Access-Control-Max-Age": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "VideoNfcRestApivideosuploadurl177C310E"
    },
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/videos/upload-url/OPTIONS/Resource"
   }
  },
  "VideoNfcRestApivideosuploadurlPOSTApiPermissionVideoNfcApiStackdevVideoNfcRestApi7F02901BPOSTvideosuploadurlF7B3516F": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "GenerateUploadUrlFn968862B7",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/",
       {
        "Ref": "VideoNfcRestApiDeploymentStagedev631C8378"
       },
       "/POST/videos/upload-url"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/videos/upload-url/POST/ApiPermission.VideoNfcApiStackdevVideoNfcRestApi7F02901B.POST..videos.upload-url"
   }
  },
  "VideoNfcRestApivideosuploadurlPOSTApiPermissionTestVideoNfcApiStackdevVideoNfcRestApi7F02901BPOSTvideosuploadurl1CA8F358": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "GenerateUploadUrlFn968862B7",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/test-invoke-stage/POST/videos/upload-url"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/videos/upload-url/POST/ApiPermission.Test.VideoNfcApiStackdevVideoNfcRestApi7F02901B.POST..videos.upload-url"
   }
  },
  "VideoNfcRestApivideosuploadurlPOSTDE7D1ACE": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "TimeoutInMillis": 29000,
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "GenerateUploadUrlFn968862B7",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "VideoNfcRestApivideosuploadurl177C310E"
    },
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/videos/upload-url/POST/Resource"
   }
  },
  "VideoNfcRestApivideosGETApiPermissionVideoNfcApiStackdevVideoNfcRestApi7F02901BGETvideos8F202F6D": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ListVideosFn7CEC1435",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/",
       {
        "Ref": "VideoNfcRestApiDeploymentStagedev631C8378"
       },
       "/GET/videos"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/videos/GET/ApiPermission.VideoNfcApiStackdevVideoNfcRestApi7F02901B.GET..videos"
   }
  },
  "VideoNfcRestApivideosGETApiPermissionTestVideoNfcApiStackdevVideoNfcRestApi7F02901BGETvideos46B54F62": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ListVideosFn7CEC1435",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/test-invoke-stage/GET/videos"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/videos/GET/ApiPermission.Test.VideoNfcApiStackdevVideoNfcRestApi7F02901B.GET..videos"
   }
  },
  "VideoNfcRestApivideosGETCC16DCAB": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "TimeoutInMillis": 29000,
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ListVideosFn7CEC1435",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "RequestParameters": {
     "method.request.querystring.limit": false,
     "method.request.querystring.lastEvaluatedKey": false,
     "method.request.querystring.search": false
    },
    "ResourceId": {
     "Ref": "VideoNfcRestApivideos2FB4570E"
    },
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/videos/GET/Resource"
   }
  },
  "VideoNfcRestApivideosvideoId49256A44": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "VideoNfcRestApivideos2FB4570E"
    },
    "PathPart": "{videoId}",
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/videos/{videoId}/Resource"
   }
  },
  "VideoNfcRestApivideosvideoIdOPTIONS3549ABD6": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'GET,POST,DELETE,OPTIONS'",
        "method.response.header.Access-Control-Allow-Credentials": "'true'",
        "method.response.header.Access-Control-Max-Age": "'864000'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true,
       "method.response.header.Access-Control-Allow-Credentials": true,
       "method.response.header.Access-Control-Max-Age": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "VideoNfcRestApivideosvideoId49256A44"
    },
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/videos/{videoId}/OPTIONS/Resource"
   }
  },
  "VideoNfcRestApivideosvideoIdGETApiPermissionVideoNfcApiStackdevVideoNfcRestApi7F02901BGETvideosvideoId8C1765A0": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "GetVideoDetailFn98896F83",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/",
       {
        "Ref": "VideoNfcRestApiDeploymentStagedev631C8378"
       },
       "/GET/videos/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/videos/{videoId}/GET/ApiPermission.VideoNfcApiStackdevVideoNfcRestApi7F02901B.GET..videos.{videoId}"
   }
  },
  "VideoNfcRestApivideosvideoIdGETApiPermissionTestVideoNfcApiStackdevVideoNfcRestApi7F02901BGETvideosvideoId79AF3828": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "GetVideoDetailFn98896F83",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/test-invoke-stage/GET/videos/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/videos/{videoId}/GET/ApiPermission.Test.VideoNfcApiStackdevVideoNfcRestApi7F02901B.GET..videos.{videoId}"
   }
  },
  "VideoNfcRestApivideosvideoIdGET5A15AA73": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "TimeoutInMillis": 29000,
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "GetVideoDetailFn98896F83",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "RequestParameters": {
     "method.request.path.videoId": true
    },
    "ResourceId": {
     "Ref": "VideoNfcRestApivideosvideoId49256A44"
    },
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/videos/{videoId}/GET/Resource"
   }
  },
  "VideoNfcRestApivideosvideoIdDELETEApiPermissionVideoNfcApiStackdevVideoNfcRestApi7F02901BDELETEvideosvideoIdC0AD8DCF": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "DeleteVideoFn76AB2E20",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/",
       {
        "Ref": "VideoNfcRestApiDeploymentStagedev631C8378"
       },
       "/DELETE/videos/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/videos/{videoId}/DELETE/ApiPermission.VideoNfcApiStackdevVideoNfcRestApi7F02901B.DELETE..videos.{videoId}"
   }
  },
  "VideoNfcRestApivideosvideoIdDELETEApiPermissionTestVideoNfcApiStackdevVideoNfcRestApi7F02901BDELETEvideosvideoId95DC2821": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "DeleteVideoFn76AB2E20",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/test-invoke-stage/DELETE/videos/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/videos/{videoId}/DELETE/ApiPermission.Test.VideoNfcApiStackdevVideoNfcRestApi7F02901B.DELETE..videos.{videoId}"
   }
  },
  "VideoNfcRestApivideosvideoIdDELETEEB2F1C59": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "DELETE",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "TimeoutInMillis": 29000,
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "DeleteVideoFn76AB2E20",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "RequestParameters": {
     "method.request.path.videoId": true
    },
    "ResourceId": {
     "Ref": "VideoNfcRestApivideosvideoId49256A44"
    },
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/videos/{videoId}/DELETE/Resource"
   }
  },
  "VideoNfcRestApivideosvideoIddetail68B41D94": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "VideoNfcRestApivideosvideoId49256A44"
    },
    "PathPart": "detail",
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/videos/{videoId}/detail/Resource"
   }
  },
  "VideoNfcRestApivideosvideoIddetailOPTIONS551FE39F": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'GET,POST,DELETE,OPTIONS'",
        "method.response.header.Access-Control-Allow-Credentials": "'true'",
        "method.response.header.Access-Control-Max-Age": "'864000'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true,
       "method.response.header.Access-Control-Allow-Credentials": true,
       "method.response.header.Access-Control-Max-Age": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "VideoNfcRestApivideosvideoIddetail68B41D94"
    },
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/videos/{videoId}/detail/OPTIONS/Resource"
   }
  },
  "VideoNfcRestApivideosvideoIddetailGETApiPermissionVideoNfcApiStackdevVideoNfcRestApi7F02901BGETvideosvideoIddetail458051F2": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "GetVideoDetailPublicFn32DCF86C",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/",
       {
        "Ref": "VideoNfcRestApiDeploymentStagedev631C8378"
       },
       "/GET/videos/*/detail"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/videos/{videoId}/detail/GET/ApiPermission.VideoNfcApiStackdevVideoNfcRestApi7F02901B.GET..videos.{videoId}.detail"
   }
  },
  "VideoNfcRestApivideosvideoIddetailGETApiPermissionTestVideoNfcApiStackdevVideoNfcRestApi7F02901BGETvideosvideoIddetail2B0075B8": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "GetVideoDetailPublicFn32DCF86C",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/test-invoke-stage/GET/videos/*/detail"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/videos/{videoId}/detail/GET/ApiPermission.Test.VideoNfcApiStackdevVideoNfcRestApi7F02901B.GET..videos.{videoId}.detail"
   }
  },
  "VideoNfcRestApivideosvideoIddetailGET2D03076A": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "TimeoutInMillis": 29000,
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "GetVideoDetailPublicFn32DCF86C",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "RequestParameters": {
     "method.request.path.videoId": true
    },
    "ResourceId": {
     "Ref": "VideoNfcRestApivideosvideoIddetail68B41D94"
    },
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/videos/{videoId}/detail/GET/Resource"
   }
  },
  "VideoNfcRestApiadminC4C1F2E6": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "VideoNfcRestApi2957FD56",
      "RootResourceId"
     ]
    },
    "PathPart": "admin",
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/admin/Resource"
   }
  },
  "VideoNfcRestApiadminOPTIONSCA13D153": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'GET,POST,DELETE,OPTIONS'",
        "method.response.header.Access-Control-Allow-Credentials": "'true'",
        "method.response.header.Access-Control-Max-Age": "'864000'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true,
       "method.response.header.Access-Control-Allow-Credentials": true,
       "method.response.header.Access-Control-Max-Age": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "VideoNfcRestApiadminC4C1F2E6"
    },
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/admin/OPTIONS/Resource"
   }
  },
  "VideoNfcRestApiadminstatsA868C662": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "VideoNfcRestApiadminC4C1F2E6"
    },
    "PathPart": "stats",
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/admin/stats/Resource"
   }
  },
  "VideoNfcRestApiadminstatsOPTIONSA9B9AE00": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'GET,POST,DELETE,OPTIONS'",
        "method.response.header.Access-Control-Allow-Credentials": "'true'",
        "method.response.header.Access-Control-Max-Age": "'864000'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true,
       "method.response.header.Access-Control-Allow-Credentials": true,
       "method.response.header.Access-Control-Max-Age": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "VideoNfcRestApiadminstatsA868C662"
    },
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/admin/stats/OPTIONS/Resource"
   }
  },
  "VideoNfcRestApiadminstatsGETApiPermissionVideoNfcApiStackdevVideoNfcRestApi7F02901BGETadminstats330D6CF6": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "GetAdminStatsFn9FA9DE4F",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/",
       {
        "Ref": "VideoNfcRestApiDeploymentStagedev631C8378"
       },
       "/GET/admin/stats"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/admin/stats/GET/ApiPermission.VideoNfcApiStackdevVideoNfcRestApi7F02901B.GET..admin.stats"
   }
  },
  "VideoNfcRestApiadminstatsGETApiPermissionTestVideoNfcApiStackdevVideoNfcRestApi7F02901BGETadminstats92D9BB78": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "GetAdminStatsFn9FA9DE4F",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/test-invoke-stage/GET/admin/stats"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/admin/stats/GET/ApiPermission.Test.VideoNfcApiStackdevVideoNfcRestApi7F02901B.GET..admin.stats"
   }
  },
  "VideoNfcRestApiadminstatsGETF83F8474": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "TimeoutInMillis": 29000,
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "GetAdminStatsFn9FA9DE4F",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "VideoNfcRestApiadminstatsA868C662"
    },
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/admin/stats/GET/Resource"
   }
  },
  "VideoNfcRestApiadminvideos0E0E8020": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "VideoNfcRestApiadminC4C1F2E6"
    },
    "PathPart": "videos",
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/admin/videos/Resource"
   }
  },
  "VideoNfcRestApiadminvideosOPTIONS4E3FC409": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'GET,POST,DELETE,OPTIONS'",
        "method.response.header.Access-Control-Allow-Credentials": "'true'",
        "method.response.header.Access-Control-Max-Age": "'864000'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true,
       "method.response.header.Access-Control-Allow-Credentials": true,
       "method.response.header.Access-Control-Max-Age": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "VideoNfcRestApiadminvideos0E0E8020"
    },
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/admin/videos/OPTIONS/Resource"
   }
  },
  "VideoNfcRestApiadminvideosGETApiPermissionVideoNfcApiStackdevVideoNfcRestApi7F02901BGETadminvideosD511D248": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ListAllVideosFn65961858",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/",
       {
        "Ref": "VideoNfcRestApiDeploymentStagedev631C8378"
       },
       "/GET/admin/videos"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/admin/videos/GET/ApiPermission.VideoNfcApiStackdevVideoNfcRestApi7F02901B.GET..admin.videos"
   }
  },
  "VideoNfcRestApiadminvideosGETApiPermissionTestVideoNfcApiStackdevVideoNfcRestApi7F02901BGETadminvideosE25E8B74": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ListAllVideosFn65961858",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/test-invoke-stage/GET/admin/videos"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/admin/videos/GET/ApiPermission.Test.VideoNfcApiStackdevVideoNfcRestApi7F02901B.GET..admin.videos"
   }
  },
  "VideoNfcRestApiadminvideosGET4B0D13EB": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "TimeoutInMillis": 29000,
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ListAllVideosFn65961858",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "RequestParameters": {
     "method.request.querystring.organizationId": false,
     "method.request.querystring.status": false,
     "method.request.querystring.search": false,
     "method.request.querystring.limit": false,
     "method.request.querystring.lastEvaluatedKey": false
    },
    "ResourceId": {
     "Ref": "VideoNfcRestApiadminvideos0E0E8020"
    },
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/admin/videos/GET/Resource"
   }
  },
  "VideoNfcRestApiorganizations7B4E095B": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "VideoNfcRestApi2957FD56",
      "RootResourceId"
     ]
    },
    "PathPart": "organizations",
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/organizations/Resource"
   }
  },
  "VideoNfcRestApiorganizationsOPTIONS151AD4D4": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'GET,POST,DELETE,OPTIONS'",
        "method.response.header.Access-Control-Allow-Credentials": "'true'",
        "method.response.header.Access-Control-Max-Age": "'864000'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true,
       "method.response.header.Access-Control-Allow-Credentials": true,
       "method.response.header.Access-Control-Max-Age": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "VideoNfcRestApiorganizations7B4E095B"
    },
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/organizations/OPTIONS/Resource"
   }
  },
  "VideoNfcRestApiorganizationsGETApiPermissionVideoNfcApiStackdevVideoNfcRestApi7F02901BGETorganizations1E84B69E": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ListOrganizationsFnA0A74480",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/",
       {
        "Ref": "VideoNfcRestApiDeploymentStagedev631C8378"
       },
       "/GET/organizations"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/organizations/GET/ApiPermission.VideoNfcApiStackdevVideoNfcRestApi7F02901B.GET..organizations"
   }
  },
  "VideoNfcRestApiorganizationsGETApiPermissionTestVideoNfcApiStackdevVideoNfcRestApi7F02901BGETorganizations698E702C": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ListOrganizationsFnA0A74480",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/test-invoke-stage/GET/organizations"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/organizations/GET/ApiPermission.Test.VideoNfcApiStackdevVideoNfcRestApi7F02901B.GET..organizations"
   }
  },
  "VideoNfcRestApiorganizationsGET17793C70": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "TimeoutInMillis": 29000,
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ListOrganizationsFnA0A74480",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "RequestParameters": {
     "method.request.querystring.type": false,
     "method.request.querystring.parentId": false
    },
    "ResourceId": {
     "Ref": "VideoNfcRestApiorganizations7B4E095B"
    },
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/organizations/GET/Resource"
   }
  },
  "VideoNfcRestApiorganizationsPOSTApiPermissionVideoNfcApiStackdevVideoNfcRestApi7F02901BPOSTorganizations2131786C": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "CreateOrganizationFn28E1EDAB",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/",
       {
        "Ref": "VideoNfcRestApiDeploymentStagedev631C8378"
       },
       "/POST/organizations"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/organizations/POST/ApiPermission.VideoNfcApiStackdevVideoNfcRestApi7F02901B.POST..organizations"
   }
  },
  "VideoNfcRestApiorganizationsPOSTApiPermissionTestVideoNfcApiStackdevVideoNfcRestApi7F02901BPOSTorganizations360D32DF": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "CreateOrganizationFn28E1EDAB",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/test-invoke-stage/POST/organizations"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/organizations/POST/ApiPermission.Test.VideoNfcApiStackdevVideoNfcRestApi7F02901B.POST..organizations"
   }
  },
  "VideoNfcRestApiorganizationsPOST02549991": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "TimeoutInMillis": 29000,
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "CreateOrganizationFn28E1EDAB",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "VideoNfcRestApiorganizations7B4E095B"
    },
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/organizations/POST/Resource"
   }
  },
  "VideoNfcRestApiorganizationsorganizationIdA74F524E": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "VideoNfcRestApiorganizations7B4E095B"
    },
    "PathPart": "{organizationId}",
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/organizations/{organizationId}/Resource"
   }
  },
  "VideoNfcRestApiorganizationsorganizationIdOPTIONSDCEF57D7": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'GET,POST,DELETE,OPTIONS'",
        "method.response.header.Access-Control-Allow-Credentials": "'true'",
        "method.response.header.Access-Control-Max-Age": "'864000'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true,
       "method.response.header.Access-Control-Allow-Credentials": true,
       "method.response.header.Access-Control-Max-Age": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "VideoNfcRestApiorganizationsorganizationIdA74F524E"
    },
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/organizations/{organizationId}/OPTIONS/Resource"
   }
  },
  "VideoNfcRestApiorganizationsorganizationIdPUTApiPermissionVideoNfcApiStackdevVideoNfcRestApi7F02901BPUTorganizationsorganizationId20C68254": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "UpdateOrganizationFn24918ABB",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/",
       {
        "Ref": "VideoNfcRestApiDeploymentStagedev631C8378"
       },
       "/PUT/organizations/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/organizations/{organizationId}/PUT/ApiPermission.VideoNfcApiStackdevVideoNfcRestApi7F02901B.PUT..organizations.{organizationId}"
   }
  },
  "VideoNfcRestApiorganizationsorganizationIdPUTApiPermissionTestVideoNfcApiStackdevVideoNfcRestApi7F02901BPUTorganizationsorganizationId45861054": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "UpdateOrganizationFn24918ABB",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/test-invoke-stage/PUT/organizations/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/organizations/{organizationId}/PUT/ApiPermission.Test.VideoNfcApiStackdevVideoNfcRestApi7F02901B.PUT..organizations.{organizationId}"
   }
  },
  "VideoNfcRestApiorganizationsorganizationIdPUT61A82810": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "PUT",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "TimeoutInMillis": 29000,
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "UpdateOrganizationFn24918ABB",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "RequestParameters": {
     "method.request.path.organizationId": true
    },
    "ResourceId": {
     "Ref": "VideoNfcRestApiorganizationsorganizationIdA74F524E"
    },
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/organizations/{organizationId}/PUT/Resource"
   }
  },
  "VideoNfcRestApiorganizationsorganizationIdDELETEApiPermissionVideoNfcApiStackdevVideoNfcRestApi7F02901BDELETEorganizationsorganizationId38D30866": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "DeleteOrganizationFn67C854BE",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/",
       {
        "Ref": "VideoNfcRestApiDeploymentStagedev631C8378"
       },
       "/DELETE/organizations/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/organizations/{organizationId}/DELETE/ApiPermission.VideoNfcApiStackdevVideoNfcRestApi7F02901B.DELETE..organizations.{organizationId}"
   }
  },
  "VideoNfcRestApiorganizationsorganizationIdDELETEApiPermissionTestVideoNfcApiStackdevVideoNfcRestApi7F02901BDELETEorganizationsorganizationId0F78C78E": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "DeleteOrganizationFn67C854BE",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/test-invoke-stage/DELETE/organizations/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/organizations/{organizationId}/DELETE/ApiPermission.Test.VideoNfcApiStackdevVideoNfcRestApi7F02901B.DELETE..organizations.{organizationId}"
   }
  },
  "VideoNfcRestApiorganizationsorganizationIdDELETE69D09147": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "DELETE",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "TimeoutInMillis": 29000,
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "DeleteOrganizationFn67C854BE",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "RequestParameters": {
     "method.request.path.organizationId": true
    },
    "ResourceId": {
     "Ref": "VideoNfcRestApiorganizationsorganizationIdA74F524E"
    },
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/organizations/{organizationId}/DELETE/Resource"
   }
  },
  "VideoNfcRestApiapprovalsC7BA2806": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "VideoNfcRestApi2957FD56",
      "RootResourceId"
     ]
    },
    "PathPart": "approvals",
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/approvals/Resource"
   }
  },
  "VideoNfcRestApiapprovalsOPTIONS03E17468": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'GET,POST,DELETE,OPTIONS'",
        "method.response.header.Access-Control-Allow-Credentials": "'true'",
        "method.response.header.Access-Control-Max-Age": "'864000'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true,
       "method.response.header.Access-Control-Allow-Credentials": true,
       "method.response.header.Access-Control-Max-Age": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "VideoNfcRestApiapprovalsC7BA2806"
    },
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/approvals/OPTIONS/Resource"
   }
  },
  "VideoNfcRestApiapprovalsPOSTApiPermissionVideoNfcApiStackdevVideoNfcRestApi7F02901BPOSTapprovalsCD22BCFE": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "CreateApprovalRequestFn718ADAFF",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/",
       {
        "Ref": "VideoNfcRestApiDeploymentStagedev631C8378"
       },
       "/POST/approvals"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/approvals/POST/ApiPermission.VideoNfcApiStackdevVideoNfcRestApi7F02901B.POST..approvals"
   }
  },
  "VideoNfcRestApiapprovalsPOSTApiPermissionTestVideoNfcApiStackdevVideoNfcRestApi7F02901BPOSTapprovals77034F17": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "CreateApprovalRequestFn718ADAFF",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/test-invoke-stage/POST/approvals"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/approvals/POST/ApiPermission.Test.VideoNfcApiStackdevVideoNfcRestApi7F02901B.POST..approvals"
   }
  },
  "VideoNfcRestApiapprovalsPOSTF4CFA1D1": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "TimeoutInMillis": 29000,
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "CreateApprovalRequestFn718ADAFF",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "VideoNfcRestApiapprovalsC7BA2806"
    },
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/approvals/POST/Resource"
   }
  },
  "VideoNfcRestApiapprovalsGETApiPermissionVideoNfcApiStackdevVideoNfcRestApi7F02901BGETapprovalsE53CECAB": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "GetPendingApprovalsFn21E353FA",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/",
       {
        "Ref": "VideoNfcRestApiDeploymentStagedev631C8378"
       },
       "/GET/approvals"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/approvals/GET/ApiPermission.VideoNfcApiStackdevVideoNfcRestApi7F02901B.GET..approvals"
   }
  },
  "VideoNfcRestApiapprovalsGETApiPermissionTestVideoNfcApiStackdevVideoNfcRestApi7F02901BGETapprovals866B05FA": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "GetPendingApprovalsFn21E353FA",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/test-invoke-stage/GET/approvals"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/approvals/GET/ApiPermission.Test.VideoNfcApiStackdevVideoNfcRestApi7F02901B.GET..approvals"
   }
  },
  "VideoNfcRestApiapprovalsGETB03483FB": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "TimeoutInMillis": 29000,
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "GetPendingApprovalsFn21E353FA",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "VideoNfcRestApiapprovalsC7BA2806"
    },
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/approvals/GET/Resource"
   }
  },
  "VideoNfcRestApiapprovalsrequestId729F57F9": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "VideoNfcRestApiapprovalsC7BA2806"
    },
    "PathPart": "{requestId}",
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/approvals/{requestId}/Resource"
   }
  },
  "VideoNfcRestApiapprovalsrequestIdOPTIONS4D6D6524": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'GET,POST,DELETE,OPTIONS'",
        "method.response.header.Access-Control-Allow-Credentials": "'true'",
        "method.response.header.Access-Control-Max-Age": "'864000'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true,
       "method.response.header.Access-Control-Allow-Credentials": true,
       "method.response.header.Access-Control-Max-Age": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "VideoNfcRestApiapprovalsrequestId729F57F9"
    },
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/approvals/{requestId}/OPTIONS/Resource"
   }
  },
  "VideoNfcRestApiapprovalsrequestIdGETApiPermissionVideoNfcApiStackdevVideoNfcRestApi7F02901BGETapprovalsrequestIdD02662DC": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "GetApprovalRequestFnBF49EA4B",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/",
       {
        "Ref": "VideoNfcRestApiDeploymentStagedev631C8378"
       },
       "/GET/approvals/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/approvals/{requestId}/GET/ApiPermission.VideoNfcApiStackdevVideoNfcRestApi7F02901B.GET..approvals.{requestId}"
   }
  },
  "VideoNfcRestApiapprovalsrequestIdGETApiPermissionTestVideoNfcApiStackdevVideoNfcRestApi7F02901BGETapprovalsrequestId03ADCAF1": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "GetApprovalRequestFnBF49EA4B",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/test-invoke-stage/GET/approvals/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/approvals/{requestId}/GET/ApiPermission.Test.VideoNfcApiStackdevVideoNfcRestApi7F02901B.GET..approvals.{requestId}"
   }
  },
  "VideoNfcRestApiapprovalsrequestIdGET7C2679D9": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "TimeoutInMillis": 29000,
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "GetApprovalRequestFnBF49EA4B",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "RequestParameters": {
     "method.request.path.requestId": true
    },
    "ResourceId": {
     "Ref": "VideoNfcRestApiapprovalsrequestId729F57F9"
    },
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/approvals/{requestId}/GET/Resource"
   }
  },
  "VideoNfcRestApiapprovalsrequestIdsubmit33504541": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "VideoNfcRestApiapprovalsrequestId729F57F9"
    },
    "PathPart": "submit",
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/approvals/{requestId}/submit/Resource"
   }
  },
  "VideoNfcRestApiapprovalsrequestIdsubmitOPTIONS3546F9C6": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'GET,POST,DELETE,OPTIONS'",
        "method.response.header.Access-Control-Allow-Credentials": "'true'",
        "method.response.header.Access-Control-Max-Age": "'864000'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true,
       "method.response.header.Access-Control-Allow-Credentials": true,
       "method.response.header.Access-Control-Max-Age": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "VideoNfcRestApiapprovalsrequestIdsubmit33504541"
    },
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/approvals/{requestId}/submit/OPTIONS/Resource"
   }
  },
  "VideoNfcRestApiapprovalsrequestIdsubmitPOSTApiPermissionVideoNfcApiStackdevVideoNfcRestApi7F02901BPOSTapprovalsrequestIdsubmit16B26EFB": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SubmitApprovalFormFn5AFD1F9D",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/",
       {
        "Ref": "VideoNfcRestApiDeploymentStagedev631C8378"
       },
       "/POST/approvals/*/submit"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/approvals/{requestId}/submit/POST/ApiPermission.VideoNfcApiStackdevVideoNfcRestApi7F02901B.POST..approvals.{requestId}.submit"
   }
  },
  "VideoNfcRestApiapprovalsrequestIdsubmitPOSTApiPermissionTestVideoNfcApiStackdevVideoNfcRestApi7F02901BPOSTapprovalsrequestIdsubmit6A75131D": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SubmitApprovalFormFn5AFD1F9D",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/test-invoke-stage/POST/approvals/*/submit"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/approvals/{requestId}/submit/POST/ApiPermission.Test.VideoNfcApiStackdevVideoNfcRestApi7F02901B.POST..approvals.{requestId}.submit"
   }
  },
  "VideoNfcRestApiapprovalsrequestIdsubmitPOST98654FBF": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "TimeoutInMillis": 29000,
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "SubmitApprovalFormFn5AFD1F9D",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "RequestParameters": {
     "method.request.path.requestId": true
    },
    "ResourceId": {
     "Ref": "VideoNfcRestApiapprovalsrequestIdsubmit33504541"
    },
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/approvals/{requestId}/submit/POST/Resource"
   }
  },
  "VideoNfcRestApiapprovalsrequestIdapprove8036C448": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "VideoNfcRestApiapprovalsrequestId729F57F9"
    },
    "PathPart": "approve",
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/approvals/{requestId}/approve/Resource"
   }
  },
  "VideoNfcRestApiapprovalsrequestIdapproveOPTIONS3D2A33D3": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'GET,POST,DELETE,OPTIONS'",
        "method.response.header.Access-Control-Allow-Credentials": "'true'",
        "method.response.header.Access-Control-Max-Age": "'864000'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true,
       "method.response.header.Access-Control-Allow-Credentials": true,
       "method.response.header.Access-Control-Max-Age": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "VideoNfcRestApiapprovalsrequestIdapprove8036C448"
    },
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/approvals/{requestId}/approve/OPTIONS/Resource"
   }
  },
  "VideoNfcRestApiapprovalsrequestIdapprovePOSTApiPermissionVideoNfcApiStackdevVideoNfcRestApi7F02901BPOSTapprovalsrequestIdapprove796A3FBE": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ApproveRequestFn7379B9F6",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/",
       {
        "Ref": "VideoNfcRestApiDeploymentStagedev631C8378"
       },
       "/POST/approvals/*/approve"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/approvals/{requestId}/approve/POST/ApiPermission.VideoNfcApiStackdevVideoNfcRestApi7F02901B.POST..approvals.{requestId}.approve"
   }
  },
  "VideoNfcRestApiapprovalsrequestIdapprovePOSTApiPermissionTestVideoNfcApiStackdevVideoNfcRestApi7F02901BPOSTapprovalsrequestIdapprove84A8934E": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ApproveRequestFn7379B9F6",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/test-invoke-stage/POST/approvals/*/approve"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/approvals/{requestId}/approve/POST/ApiPermission.Test.VideoNfcApiStackdevVideoNfcRestApi7F02901B.POST..approvals.{requestId}.approve"
   }
  },
  "VideoNfcRestApiapprovalsrequestIdapprovePOST4F03434D": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "TimeoutInMillis": 29000,
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ApproveRequestFn7379B9F6",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "RequestParameters": {
     "method.request.path.requestId": true
    },
    "ResourceId": {
     "Ref": "VideoNfcRestApiapprovalsrequestIdapprove8036C448"
    },
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/approvals/{requestId}/approve/POST/Resource"
   }
  },
  "VideoNfcRestApiapprovalsrequestIdrejectDC8373FC": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "VideoNfcRestApiapprovalsrequestId729F57F9"
    },
    "PathPart": "reject",
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/approvals/{requestId}/reject/Resource"
   }
  },
  "VideoNfcRestApiapprovalsrequestIdrejectOPTIONS8610F182": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'GET,POST,DELETE,OPTIONS'",
        "method.response.header.Access-Control-Allow-Credentials": "'true'",
        "method.response.header.Access-Control-Max-Age": "'864000'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true,
       "method.response.header.Access-Control-Allow-Credentials": true,
       "method.response.header.Access-Control-Max-Age": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "VideoNfcRestApiapprovalsrequestIdrejectDC8373FC"
    },
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/approvals/{requestId}/reject/OPTIONS/Resource"
   }
  },
  "VideoNfcRestApiapprovalsrequestIdrejectPOSTApiPermissionVideoNfcApiStackdevVideoNfcRestApi7F02901BPOSTapprovalsrequestIdrejectF7FDBF49": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "RejectRequestFn4DE6112B",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/",
       {
        "Ref": "VideoNfcRestApiDeploymentStagedev631C8378"
       },
       "/POST/approvals/*/reject"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/approvals/{requestId}/reject/POST/ApiPermission.VideoNfcApiStackdevVideoNfcRestApi7F02901B.POST..approvals.{requestId}.reject"
   }
  },
  "VideoNfcRestApiapprovalsrequestIdrejectPOSTApiPermissionTestVideoNfcApiStackdevVideoNfcRestApi7F02901BPOSTapprovalsrequestIdrejectEB90959B": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "RejectRequestFn4DE6112B",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:ap-northeast-1:271633506783:",
       {
        "Ref": "VideoNfcRestApi2957FD56"
       },
       "/test-invoke-stage/POST/approvals/*/reject"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/approvals/{requestId}/reject/POST/ApiPermission.Test.VideoNfcApiStackdevVideoNfcRestApi7F02901B.POST..approvals.{requestId}.reject"
   }
  },
  "VideoNfcRestApiapprovalsrequestIdrejectPOST3A694A50": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "CognitoAuthorizerF3215DBC"
    },
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "TimeoutInMillis": 29000,
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "RejectRequestFn4DE6112B",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "RequestParameters": {
     "method.request.path.requestId": true
    },
    "ResourceId": {
     "Ref": "VideoNfcRestApiapprovalsrequestIdrejectDC8373FC"
    },
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    }
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/VideoNfcRestApi/Default/approvals/{requestId}/reject/POST/Resource"
   }
  },
  "CognitoAuthorizerF3215DBC": {
   "Type": "AWS::ApiGateway::Authorizer",
   "Properties": {
    "IdentitySource": "method.request.header.Authorization",
    "Name": "video-nfc-dev-authorizer",
    "ProviderARNs": [
     {
      "Fn::Join": [
       "",
       [
        "arn:aws:cognito-idp:ap-northeast-1:271633506783:userpool/",
        {
         "Fn::ImportValue": "video-nfc-auth-dev:ExportsOutputRefUserPool6BA7E5F296FD7236"
        }
       ]
      ]
     }
    ],
    "RestApiId": {
     "Ref": "VideoNfcRestApi2957FD56"
    },
    "Type": "COGNITO_USER_POOLS"
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/CognitoAuthorizer/Resource"
   }
  },
  "CDKMetadata": {
   "Type": "AWS::CDK::Metadata",
   "Properties": {
    "Analytics": "v2:deflate64:H4sIAAAAAAAA/02RTU/DMAyGfwv3NGzdiWMHgguIaojzlKWmeE3jKk6YStX/TpJ1bCc/rz/02nIpy/WDXN2pExe66QqDBzl9eKU7EVP7yaj+0Cg5PQerPZIVj1/2lmtwPTJHNQtUvZx2ZCAVcqzJoB5zX6ZZ8GavmMGzrFKIWm6D7sBvFYMw1LKcXql9cRSGNHfhWagBW+XhpMZoAuyrAbPPFSutKVgvnmAwNPYQMWZvVLyrzcudIY5ScBqy9Rv4b2pScaFLdTFZmFqLnj4ZXE1kuAqx1+EvuLzAv5rn63w+NDmibVPXe/BD8LOw1IA88v1PuZHrVfzBkRELFy/AHuTuHP8AuYVDiKABAAA="
   },
   "Metadata": {
    "aws:cdk:path": "VideoNfcApiStack-dev/CDKMetadata/Default"
   }
  }
 },
 "Outputs": {
  "VideoNfcRestApiEndpoint9E800AFB": {
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "VideoNfcRestApi2957FD56"
      },
      ".execute-api.ap-northeast-1.",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "VideoNfcRestApiDeploymentStagedev631C8378"
      },
      "/"
     ]
    ]
   }
  },
  "ApiGatewayUrl": {
   "Description": "API GatewayのベースURL",
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "VideoNfcRestApi2957FD56"
      },
      ".execute-api.ap-northeast-1.",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "VideoNfcRestApiDeploymentStagedev631C8378"
      },
      "/"
     ]
    ]
   },
   "Export": {
    "Name": "dev-ApiGatewayUrl"
   }
  },
  "ApiGatewayId": {
   "Description": "API Gateway ID",
   "Value": {
    "Ref": "VideoNfcRestApi2957FD56"
   },
   "Export": {
    "Name": "dev-ApiGatewayId"
   }
  },
  "CognitoUserPoolId": {
   "Description": "Cognito User Pool ID",
   "Value": {
    "Fn::ImportValue": "video-nfc-auth-dev:ExportsOutputRefUserPool6BA7E5F296FD7236"
   },
   "Export": {
    "Name": "dev-CognitoUserPoolIdOutput"
   }
  },
  "CognitoClientId": {
   "Description": "Cognito User Pool Client ID",
   "Value": {
    "Fn::ImportValue": "video-nfc-auth-dev:ExportsOutputRefUserPoolUserPoolClient40176907044A36CF"
   },
   "Export": {
    "Name": "dev-CognitoClientIdOutput"
   }
  }
 },
 "Parameters": {
  "BootstrapVersion": {
   "Type": "AWS::SSM::Parameter::Value<String>",
   "Default": "/cdk-bootstrap/hnb659fds/version",
   "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]"
  }
 },
 "Rules": {
  "CheckBootstrapVersion": {
   "Assertions": [
    {
     "Assert": {
      "Fn::Not": [
       {
        "Fn::Contains": [
         [
          "1",
          "2",
          "3",
          "4",
          "5"
         ],
         {
          "Ref": "BootstrapVersion"
         }
        ]
       }
      ]
     },
     "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI."
    }
   ]
  }
 }
}